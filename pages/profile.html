<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ä¸ªäººèµ„æ–™ - å°å®‡å®™æ’­å®¢</title>
    <meta name="description" content="ç”¨æˆ·ä¸ªäººèµ„æ–™é¡µé¢ï¼ŒåŒ…å«åŸºæœ¬ä¿¡æ¯ã€åå¥½è®¾ç½®ã€å¬æ’­ç»Ÿè®¡ã€æˆå°±ç³»ç»Ÿ" />
    <meta name="keywords" content="ä¸ªäººèµ„æ–™,ç”¨æˆ·è®¾ç½®,æ’­å®¢ç»Ÿè®¡" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="../assets/css/custom.css" />
    <link rel="icon" type="image/svg+xml" href="https://api.iconify.design/heroicons/musical-note.svg" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "podcast-primary": "#6366f1",
              "podcast-secondary": "#8b5cf6",
              "podcast-accent": "#06b6d4",
              "podcast-dark": "#1e293b",
              "podcast-light": "#f8fafc",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50 min-h-screen" x-data="profileApp()">
    <!-- å¯¼èˆªæ  -->
    <nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center space-x-4">
            <button @click="goBack" class="text-gray-600 hover:text-gray-900">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
            <h1 class="text-lg font-semibold text-gray-900">ä¸ªäººèµ„æ–™</h1>
          </div>

          <div class="flex items-center space-x-4">
            <button
              @click="editMode = !editMode"
              class="px-4 py-2 text-sm font-medium rounded-lg transition-colors"
              :class="editMode 
                ? 'bg-green-100 text-green-700 hover:bg-green-200' 
                : 'bg-podcast-primary text-white hover:bg-podcast-secondary'"
            >
              <span x-text="editMode ? 'ä¿å­˜' : 'ç¼–è¾‘'"></span>
            </button>
            <button class="text-gray-600 hover:text-gray-900">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="lg:col-span-2 space-y-8">
          <!-- åŸºæœ¬ä¿¡æ¯ -->
          <section class="bg-white rounded-xl shadow-sm p-8">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-xl font-bold text-gray-900">åŸºæœ¬ä¿¡æ¯</h2>
              <span x-show="editMode" class="text-sm text-gray-500">ç¼–è¾‘æ¨¡å¼</span>
            </div>

            <div class="flex items-start space-x-8">
              <!-- å¤´åƒ -->
              <div class="relative">
                <img
                  :src="user.avatar"
                  :alt="user.name"
                  class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"
                />
                <button
                  x-show="editMode"
                  @click="changeAvatar"
                  class="absolute bottom-0 right-0 w-10 h-10 bg-podcast-primary text-white rounded-full flex items-center justify-center hover:bg-podcast-secondary transition-colors shadow-lg"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                    ></path>
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                    ></path>
                  </svg>
                </button>
              </div>

              <!-- ç”¨æˆ·ä¿¡æ¯ -->
              <div class="flex-1 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”¨æˆ·å</label>
                    <input
                      x-show="editMode"
                      x-model="user.name"
                      type="text"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary focus:border-transparent"
                    />
                    <div x-show="!editMode" class="text-lg font-semibold text-gray-900" x-text="user.name"></div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">é‚®ç®±</label>
                    <input
                      x-show="editMode"
                      x-model="user.email"
                      type="email"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary focus:border-transparent"
                    />
                    <div x-show="!editMode" class="text-gray-600" x-text="user.email"></div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ‰‹æœºå·</label>
                    <input
                      x-show="editMode"
                      x-model="user.phone"
                      type="tel"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary focus:border-transparent"
                    />
                    <div x-show="!editMode" class="text-gray-600" x-text="user.phone"></div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ç”Ÿæ—¥</label>
                    <input
                      x-show="editMode"
                      x-model="user.birthday"
                      type="date"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary focus:border-transparent"
                    />
                    <div x-show="!editMode" class="text-gray-600" x-text="formatDate(user.birthday)"></div>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">ä¸ªäººç®€ä»‹</label>
                  <textarea
                    x-show="editMode"
                    x-model="user.bio"
                    rows="3"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary focus:border-transparent"
                    placeholder="ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±..."
                  ></textarea>
                  <div x-show="!editMode" class="text-gray-600" x-text="user.bio || 'è¿˜æ²¡æœ‰æ·»åŠ ä¸ªäººç®€ä»‹'"></div>
                </div>
              </div>
            </div>
          </section>

          <!-- å¬æ’­ç»Ÿè®¡ -->
          <section class="bg-white rounded-xl shadow-sm p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">å¬æ’­ç»Ÿè®¡</h2>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-r from-podcast-primary to-podcast-secondary rounded-full flex items-center justify-center mx-auto mb-3"
                >
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M8.464 8.464a5 5 0 000 7.072m-2.828-9.9a9 9 0 000 14.142"
                    ></path>
                  </svg>
                </div>
                <div class="text-2xl font-bold text-gray-900" x-text="stats.totalListeningTime"></div>
                <div class="text-sm text-gray-600">æ€»å¬æ’­æ—¶é•¿</div>
              </div>

              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3"
                >
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
                    ></path>
                  </svg>
                </div>
                <div class="text-2xl font-bold text-gray-900" x-text="stats.episodesListened"></div>
                <div class="text-sm text-gray-600">æ”¶å¬å•é›†æ•°</div>
              </div>

              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-3"
                >
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                    ></path>
                  </svg>
                </div>
                <div class="text-2xl font-bold text-gray-900" x-text="stats.podcastsSubscribed"></div>
                <div class="text-sm text-gray-600">è®¢é˜…æ’­å®¢æ•°</div>
              </div>

              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-r from-purple-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3"
                >
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                </div>
                <div class="text-2xl font-bold text-gray-900" x-text="stats.averageDaily"></div>
                <div class="text-sm text-gray-600">æ—¥å‡å¬æ’­æ—¶é•¿</div>
              </div>
            </div>

            <!-- å¬æ’­è¶‹åŠ¿å›¾ -->
            <div class="border border-gray-200 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">è¿‘30å¤©å¬æ’­è¶‹åŠ¿</h3>
              <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                <div class="text-center text-gray-500">
                  <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                    ></path>
                  </svg>
                  <p>å›¾è¡¨æ•°æ®å¯è§†åŒ–</p>
                  <p class="text-sm">æ˜¾ç¤ºæ¯æ—¥å¬æ’­æ—¶é•¿å˜åŒ–</p>
                </div>
              </div>
            </div>
          </section>

          <!-- æˆå°±ç³»ç»Ÿ -->
          <section class="bg-white rounded-xl shadow-sm p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">æˆå°±å¾½ç« </h2>

            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
              <template x-for="achievement in achievements" :key="achievement.id">
                <div
                  class="relative p-4 border rounded-xl transition-all hover:shadow-md cursor-pointer"
                  :class="achievement.unlocked 
                    ? 'border-podcast-primary bg-podcast-primary/5' 
                    : 'border-gray-200 bg-gray-50 opacity-60'"
                  @click="showAchievementDetail(achievement)"
                >
                  <div class="text-center">
                    <div
                      class="w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2"
                      :class="achievement.unlocked ? 'bg-podcast-primary text-white' : 'bg-gray-300 text-gray-500'"
                    >
                      <span class="text-2xl" x-text="achievement.icon"></span>
                    </div>
                    <h3 class="font-semibold text-sm mb-1" x-text="achievement.title"></h3>
                    <p class="text-xs text-gray-600" x-text="achievement.description"></p>

                    <!-- è¿›åº¦æ¡ -->
                    <div x-show="!achievement.unlocked && achievement.progress !== undefined" class="mt-2">
                      <div class="w-full bg-gray-200 rounded-full h-1">
                        <div
                          class="bg-podcast-primary h-1 rounded-full transition-all"
                          :style="`width: ${achievement.progress}%`"
                        ></div>
                      </div>
                      <div
                        class="text-xs text-gray-500 mt-1"
                        x-text="`${achievement.current}/${achievement.target}`"
                      ></div>
                    </div>

                    <!-- è§£é”æ—¶é—´ -->
                    <div
                      x-show="achievement.unlocked"
                      class="text-xs text-podcast-primary mt-1"
                      x-text="formatDate(achievement.unlockedAt)"
                    ></div>
                  </div>

                  <!-- æ–°è§£é”æ ‡è¯† -->
                  <div
                    x-show="achievement.isNew"
                    class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"
                  ></div>
                </div>
              </template>
            </div>
          </section>

          <!-- åå¥½è®¾ç½® -->
          <section class="bg-white rounded-xl shadow-sm p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">åå¥½è®¾ç½®</h2>

            <div class="space-y-6">
              <!-- éŸ³é¢‘è®¾ç½® -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">éŸ³é¢‘è®¾ç½®</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">é»˜è®¤æ’­æ”¾é€Ÿåº¦</label>
                    <select
                      x-model="preferences.defaultPlaybackSpeed"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary"
                    >
                      <option value="0.5">0.5x</option>
                      <option value="0.75">0.75x</option>
                      <option value="1">1x</option>
                      <option value="1.25">1.25x</option>
                      <option value="1.5">1.5x</option>
                      <option value="2">2x</option>
                    </select>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">éŸ³é¢‘è´¨é‡</label>
                    <select
                      x-model="preferences.audioQuality"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary"
                    >
                      <option value="low">ä½è´¨é‡ (64kbps)</option>
                      <option value="medium">ä¸­ç­‰è´¨é‡ (128kbps)</option>
                      <option value="high">é«˜è´¨é‡ (320kbps)</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- é€šçŸ¥è®¾ç½® -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">é€šçŸ¥è®¾ç½®</h3>
                <div class="space-y-3">
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      x-model="preferences.newEpisodeNotification"
                      class="rounded border-gray-300 text-podcast-primary focus:ring-podcast-primary"
                    />
                    <span class="ml-3 text-gray-700">æ–°å•é›†å‘å¸ƒé€šçŸ¥</span>
                  </label>

                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      x-model="preferences.weeklyDigest"
                      class="rounded border-gray-300 text-podcast-primary focus:ring-podcast-primary"
                    />
                    <span class="ml-3 text-gray-700">æ¯å‘¨æ¨èæ‘˜è¦</span>
                  </label>

                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      x-model="preferences.socialNotification"
                      class="rounded border-gray-300 text-podcast-primary focus:ring-podcast-primary"
                    />
                    <span class="ml-3 text-gray-700">ç¤¾äº¤äº’åŠ¨é€šçŸ¥</span>
                  </label>
                </div>
              </div>

              <!-- ä¸‹è½½è®¾ç½® -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">ä¸‹è½½è®¾ç½®</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">è‡ªåŠ¨ä¸‹è½½</label>
                    <select
                      x-model="preferences.autoDownload"
                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-podcast-primary"
                    >
                      <option value="none">ä¸è‡ªåŠ¨ä¸‹è½½</option>
                      <option value="subscribed">ä»…è®¢é˜…çš„æ’­å®¢</option>
                      <option value="favorites">ä»…æ”¶è—çš„æ’­å®¢</option>
                      <option value="all">æ‰€æœ‰æ’­å®¢</option>
                    </select>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ä»…åœ¨WiFiä¸‹è½½</label>
                    <label class="flex items-center mt-2">
                      <input
                        type="checkbox"
                        x-model="preferences.wifiOnlyDownload"
                        class="rounded border-gray-300 text-podcast-primary focus:ring-podcast-primary"
                      />
                      <span class="ml-3 text-gray-700">å¯ç”¨</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>

        <!-- ä¾§è¾¹æ  -->
        <div class="lg:col-span-1 space-y-6">
          <!-- ä¼šå‘˜çŠ¶æ€ -->
          <div class="bg-gradient-to-r from-podcast-primary to-podcast-secondary rounded-xl shadow-sm p-6 text-white">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold">ä¼šå‘˜çŠ¶æ€</h3>
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"
                ></path>
              </svg>
            </div>

            <div x-show="user.isPremium">
              <div class="text-sm opacity-90 mb-2">å°å®‡å®™ Pro ä¼šå‘˜</div>
              <div class="text-xs opacity-75" x-text="`åˆ°æœŸæ—¶é—´ï¼š${user.premiumExpiry}`"></div>
              <button
                class="w-full mt-4 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors"
              >
                ç®¡ç†è®¢é˜…
              </button>
            </div>

            <div x-show="!user.isPremium">
              <div class="text-sm opacity-90 mb-2">å…è´¹ç”¨æˆ·</div>
              <div class="text-xs opacity-75 mb-4">å‡çº§åˆ°Proäº«å—æ›´å¤šåŠŸèƒ½</div>
              <button
                class="w-full px-4 py-2 bg-white text-podcast-primary rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors"
              >
                ç«‹å³å‡çº§
              </button>
            </div>
          </div>

          <!-- å¿«é€Ÿæ“ä½œ -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">å¿«é€Ÿæ“ä½œ</h3>
            <div class="space-y-3">
              <button
                @click="exportData"
                class="w-full flex items-center px-4 py-3 text-left border border-gray-200 rounded-lg hover:border-podcast-primary hover:bg-podcast-primary/5 transition-colors"
              >
                <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                  ></path>
                </svg>
                <div>
                  <div class="font-medium text-gray-900">å¯¼å‡ºæ•°æ®</div>
                  <div class="text-sm text-gray-500">ä¸‹è½½ä¸ªäººå¬æ’­æ•°æ®</div>
                </div>
              </button>

              <button
                @click="importData"
                class="w-full flex items-center px-4 py-3 text-left border border-gray-200 rounded-lg hover:border-podcast-primary hover:bg-podcast-primary/5 transition-colors"
              >
                <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                  ></path>
                </svg>
                <div>
                  <div class="font-medium text-gray-900">å¯¼å…¥è®¢é˜…</div>
                  <div class="text-sm text-gray-500">ä»å…¶ä»–å¹³å°å¯¼å…¥</div>
                </div>
              </button>

              <button
                @click="shareProfile"
                class="w-full flex items-center px-4 py-3 text-left border border-gray-200 rounded-lg hover:border-podcast-primary hover:bg-podcast-primary/5 transition-colors"
              >
                <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"
                  ></path>
                </svg>
                <div>
                  <div class="font-medium text-gray-900">åˆ†äº«èµ„æ–™</div>
                  <div class="text-sm text-gray-500">ç”Ÿæˆä¸ªäººèµ„æ–™å¡ç‰‡</div>
                </div>
              </button>

              <button
                @click="privacySettings"
                class="w-full flex items-center px-4 py-3 text-left border border-gray-200 rounded-lg hover:border-podcast-primary hover:bg-podcast-primary/5 transition-colors"
              >
                <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                  ></path>
                </svg>
                <div>
                  <div class="font-medium text-gray-900">éšç§è®¾ç½®</div>
                  <div class="text-sm text-gray-500">ç®¡ç†ä¸ªäººä¿¡æ¯å¯è§æ€§</div>
                </div>
              </button>
            </div>
          </div>

          <!-- æœ€è¿‘æ´»åŠ¨ -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">æœ€è¿‘æ´»åŠ¨</h3>
            <div class="space-y-4">
              <template x-for="activity in recentActivities" :key="activity.id">
                <div class="flex items-start space-x-3">
                  <div
                    class="w-8 h-8 rounded-full flex items-center justify-center text-xs text-white"
                    :class="getActivityColor(activity.type)"
                  >
                    <span x-text="getActivityIcon(activity.type)"></span>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm text-gray-900" x-text="activity.description"></p>
                    <p class="text-xs text-gray-500" x-text="formatRelativeTime(activity.time)"></p>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- æˆå°±è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div
      x-show="showAchievementModal"
      x-cloak
      class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
      @click.self="showAchievementModal = false"
    >
      <div class="bg-white rounded-xl w-full max-w-md">
        <div class="p-6">
          <div class="text-center">
            <div
              class="w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4"
              :class="selectedAchievement?.unlocked ? 'bg-podcast-primary text-white' : 'bg-gray-300 text-gray-500'"
            >
              <span class="text-3xl" x-text="selectedAchievement?.icon"></span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2" x-text="selectedAchievement?.title"></h3>
            <p class="text-gray-600 mb-4" x-text="selectedAchievement?.description"></p>

            <div x-show="selectedAchievement?.unlocked" class="text-sm text-podcast-primary">
              <p x-text="`è§£é”æ—¶é—´ï¼š${formatDate(selectedAchievement?.unlockedAt)}`"></p>
            </div>

            <div x-show="!selectedAchievement?.unlocked && selectedAchievement?.progress !== undefined" class="mt-4">
              <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                <div
                  class="bg-podcast-primary h-2 rounded-full transition-all"
                  :style="`width: ${selectedAchievement?.progress}%`"
                ></div>
              </div>
              <p
                class="text-sm text-gray-600"
                x-text="`è¿›åº¦ï¼š${selectedAchievement?.current}/${selectedAchievement?.target}`"
              ></p>
            </div>
          </div>

          <button
            @click="showAchievementModal = false"
            class="w-full mt-6 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"
          >
            å…³é—­
          </button>
        </div>
      </div>
    </div>

    <script src="../assets/js/script.js"></script>
    <script>
      function profileApp() {
        return {
          editMode: false,
          showAchievementModal: false,
          selectedAchievement: null,

          user: {
            name: "å°å®‡å®™æ¢ç´¢è€…",
            email: "explorer@xiaoyuzhou.app",
            phone: "138****8888",
            birthday: "1995-06-15",
            bio: "çƒ­çˆ±ç§‘æŠ€å’Œåˆ›æ–°çš„æ’­å®¢å¬ä¼—ï¼Œå–œæ¬¢åœ¨æ’­å®¢ä¸­æ¢ç´¢æ–°çš„çŸ¥è¯†å’Œè§‚ç‚¹ã€‚",
            avatar: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=200&h=200&fit=crop&crop=face",
            isPremium: true,
            premiumExpiry: "2024-12-31",
            joinDate: "2023-01-15",
          },

          stats: {
            totalListeningTime: "156å°æ—¶",
            episodesListened: 324,
            podcastsSubscribed: 28,
            averageDaily: "2.3å°æ—¶",
          },

          preferences: {
            defaultPlaybackSpeed: 1.25,
            audioQuality: "high",
            newEpisodeNotification: true,
            weeklyDigest: true,
            socialNotification: false,
            autoDownload: "subscribed",
            wifiOnlyDownload: true,
          },

          achievements: [
            {
              id: 1,
              title: "æ’­å®¢æ–°æ‰‹",
              description: "æ”¶å¬ç¬¬ä¸€ä¸ªæ’­å®¢å•é›†",
              icon: "ğŸ§",
              unlocked: true,
              unlockedAt: "2023-01-16",
              isNew: false,
            },
            {
              id: 2,
              title: "æ—¶å…‰æ—…è¡Œè€…",
              description: "ç´¯è®¡æ”¶å¬100å°æ—¶",
              icon: "â°",
              unlocked: true,
              unlockedAt: "2023-08-20",
              isNew: false,
            },
            {
              id: 3,
              title: "æ¢ç´¢å®¶",
              description: "è®¢é˜…10ä¸ªä¸åŒçš„æ’­å®¢",
              icon: "ğŸ”",
              unlocked: true,
              unlockedAt: "2023-05-10",
              isNew: false,
            },
            {
              id: 4,
              title: "è¯„è®ºè¾¾äºº",
              description: "å‘è¡¨50æ¡è¯„è®º",
              icon: "ğŸ’¬",
              unlocked: false,
              progress: 76,
              current: 38,
              target: 50,
              isNew: false,
            },
            {
              id: 5,
              title: "æ·±åº¦å¬ä¼—",
              description: "å•æ—¥æ”¶å¬è¶…è¿‡8å°æ—¶",
              icon: "ğŸ¯",
              unlocked: true,
              unlockedAt: "2024-01-01",
              isNew: true,
            },
            {
              id: 6,
              title: "ç¤¾äº¤è¾¾äºº",
              description: "è·å¾—100ä¸ªç‚¹èµ",
              icon: "ğŸ‘",
              unlocked: false,
              progress: 60,
              current: 60,
              target: 100,
              isNew: false,
            },
            {
              id: 7,
              title: "å¿ å®ç²‰ä¸",
              description: "è¿ç»­30å¤©æ”¶å¬æ’­å®¢",
              icon: "ğŸ”¥",
              unlocked: false,
              progress: 83,
              current: 25,
              target: 30,
              isNew: false,
            },
            {
              id: 8,
              title: "çŸ¥è¯†æ”¶è—å®¶",
              description: "æ”¶è—100ä¸ªå•é›†",
              icon: "ğŸ“š",
              unlocked: false,
              progress: 45,
              current: 45,
              target: 100,
              isNew: false,
            },
          ],

          recentActivities: [
            {
              id: 1,
              type: "listen",
              description: "æ”¶å¬äº†ã€Šç§‘æŠ€èŠå¤©å®¤ã€‹æœ€æ–°ä¸€æœŸ",
              time: "2024-01-20T10:30:00Z",
            },
            {
              id: 2,
              type: "subscribe",
              description: "è®¢é˜…äº†ã€Šå•†ä¸šæ–°è§†è§’ã€‹",
              time: "2024-01-19T15:20:00Z",
            },
            {
              id: 3,
              type: "favorite",
              description: "æ”¶è—äº†ã€Šäººå·¥æ™ºèƒ½çš„æœªæ¥å±•æœ›ã€‹",
              time: "2024-01-19T09:15:00Z",
            },
            {
              id: 4,
              type: "comment",
              description: "åœ¨ã€ŠåŒºå—é“¾æŠ€æœ¯æ·±åº¦è§£æã€‹å‘è¡¨äº†è¯„è®º",
              time: "2024-01-18T20:45:00Z",
            },
            {
              id: 5,
              type: "achievement",
              description: "è§£é”äº†"æ·±åº¦å¬ä¼—"æˆå°±",
              time: "2024-01-18T12:00:00Z",
            },
          ],

          changeAvatar() {
            console.log("æ›´æ¢å¤´åƒ");
          },

          showAchievementDetail(achievement) {
            this.selectedAchievement = achievement;
            this.showAchievementModal = true;
          },

          exportData() {
            console.log("å¯¼å‡ºä¸ªäººæ•°æ®");
          },

          importData() {
            console.log("å¯¼å…¥è®¢é˜…æ•°æ®");
          },

          shareProfile() {
            console.log("åˆ†äº«ä¸ªäººèµ„æ–™");
          },

          privacySettings() {
            console.log("éšç§è®¾ç½®");
          },

          getActivityColor(type) {
            const colors = {
              listen: "bg-podcast-primary",
              subscribe: "bg-green-500",
              favorite: "bg-red-500",
              comment: "bg-blue-500",
              achievement: "bg-yellow-500",
            };
            return colors[type] || "bg-gray-500";
          },

          getActivityIcon(type) {
            const icons = {
              listen: "ğŸ§",
              subscribe: "â•",
              favorite: "â¤ï¸",
              comment: "ğŸ’¬",
              achievement: "ğŸ†",
            };
            return icons[type] || "ğŸ“";
          },

          goBack() {
            if (window.history.length > 1) {
              window.history.back();
            } else {
              window.location.href = "home.html";
            }
          },

          formatDate(dateString) {
            if (!dateString) return "";
            const date = new Date(dateString);
            return date.toLocaleDateString("zh-CN");
          },

          formatRelativeTime(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const diffHours = Math.ceil(diffTime / (1000 * 60 * 60));
            const diffMinutes = Math.ceil(diffTime / (1000 * 60));

            if (diffMinutes < 60) return `${diffMinutes}åˆ†é’Ÿå‰`;
            if (diffHours < 24) return `${diffHours}å°æ—¶å‰`;
            if (diffDays < 7) return `${diffDays}å¤©å‰`;
            return date.toLocaleDateString("zh-CN");
          },
        };
      }
    </script>
  </body>
</html>
